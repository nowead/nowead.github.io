{{ define "main" }}
  <main class="post">
    <div class="portfolio-container">
      <!-- Left Sidebar: Profile Section -->
      <aside class="portfolio-sidebar">
        <div class="profile-section">
          <!-- Profile Photo -->
          <div class="profile-photo">
            {{ with .Params.profile_image }}
            <img src="{{ . }}" alt="Profile Photo">
            {{ else }}
            <div class="profile-photo-placeholder">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
              </svg>
            </div>
            {{ end }}
          </div>

          <!-- Name -->
          <h1 class="profile-name">{{ .Params.name | default "Your Name" }}</h1>
          <p class="profile-title">{{ .Params.role | default "Software Developer" }}</p>

          <!-- Contact Information -->
          <div class="contact-info">
            <h3>연락처</h3>
            {{ with .Params.email }}
            <div class="contact-item">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                <polyline points="22,6 12,13 2,6"/>
              </svg>
              <a href="mailto:{{ . }}">{{ . }}</a>
            </div>
            {{ end }}
            
            {{ with .Params.phone }}
            <div class="contact-item">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
              </svg>
              <span>{{ . }}</span>
            </div>
            {{ end }}
            
            {{ with .Params.github }}
            <div class="contact-item">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.840 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
              </svg>
              <a href="https://github.com/{{ . }}" target="_blank">github.com/{{ . }}</a>
            </div>
            {{ end }}
          </div>

          <!-- Education -->
          {{ with .Params.education }}
          <div class="education-info">
            <h3>학력</h3>
            {{ range . }}
            <div class="education-item">
              <div class="education-degree">{{ .degree }}</div>
              <div class="education-school">{{ .school }}</div>
              {{ with .period }}
              <div class="education-period">{{ . }}</div>
              {{ end }}
            </div>
            {{ end }}
          </div>
          {{ end }}

          <!-- Bio from content -->
          {{ if .Content }}
          <div class="profile-bio">
            <h3>소개</h3>
            {{ .Content }}
          </div>
          {{ end }}
        </div>
      </aside>

      <!-- Right Main Content: Projects -->
      <div class="portfolio-main">
        <h2 class="portfolio-section-title">프로젝트</h2>
        
        <div class="portfolio-list">
          {{ range .Pages.ByWeight }}
          <a href="{{ .Permalink }}" class="portfolio-card-link">
            <article class="portfolio-card">
              <div class="portfolio-card-header">
                <h3 class="portfolio-card-title">{{ .Title }}</h3>
                {{ if .Date }}
                <time class="portfolio-card-date">{{ .Date.Format "2006.01" }}</time>
                {{ end }}
              </div>
              
              {{ with .Params.description }}
              <p class="portfolio-card-description">{{ . }}</p>
              {{ end }}
              
              {{ with .Params.tags }}
              <div class="portfolio-card-tags">
                {{ range . }}
                  <span class="portfolio-tag">{{ . }}</span>
                {{ end }}
              </div>
              {{ end }}
              
              <div class="portfolio-card-footer">
                <span class="portfolio-card-link-text">자세히 보기 →</span>
              </div>
            </article>
          </a>
          {{ end }}
        </div>
      </div>
    </div>
  </main>
{{ end }}
